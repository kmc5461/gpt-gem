# infra/helm/values.yaml
# Global Settings
global:
  environment: production
  domain: archetype.com

# Web Frontend
web:
  image:
    repository: registry.gitlab.com/archetype/web
    tag: v2.0.0
  replicaCount: 3
  autoscaling:
    enabled: true
    minReplicas: 3
    maxReplicas: 20
    targetCPUUtilizationPercentage: 75
  ingress:
    enabled: true
    annotations:
      kubernetes.io/ingress.class: nginx
      cert-manager.io/cluster-issuer: letsencrypt-prod

# Microservices Common Config
productService:
  image:
    repository: registry.gitlab.com/archetype/product-service
    tag: v1.5.0
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 200m
      memory: 256Mi

orderService:
  image:
    repository: registry.gitlab.com/archetype/order-service
    tag: v1.4.0

# Persistence
redis:
  enabled: true
  architecture: replication # standalone or replication
  auth:
    enabled: false

postgresql:
  enabled: true
  architecture: replication
  primary:
    persistence:
      size: 50Gi
